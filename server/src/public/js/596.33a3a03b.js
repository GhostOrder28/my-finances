"use strict";(self["webpackChunkmy_finances"]=self["webpackChunkmy_finances"]||[]).push([[596],{725:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(3396),s=r(7139),a=r(9242);const l={class:"container px-4 w-100 d-flex gap-4"};function o(e,t,r,o,i,u){return(0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("button",{class:"flex-grow-1 py-2 border-0 fs-6 fw-bold rounded-pill bg-blue text-light-purple",type:"button",onClick:t[0]||(t[0]=t=>e.$emit("formSubmit"))},(0,s.zw)(r.confirmLabel),1),r.single?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,class:"flex-grow-1 py-2 border-0 fs-6 fw-bold rounded-pill bg-red text-light-red",type:"button",onClick:t[1]||(t[1]=(0,a.iM)((t=>e.$router.back()),["prevent"]))},(0,s.zw)(r.cancelLabel),1))])}var i={props:{confirmLabel:{type:String,required:!0},cancelLabel:{type:String,required:!0},single:{type:Boolean,default:!1,required:!1}}},u=r(89);const d=(0,u.Z)(i,[["render",o]]);var c=d},7052:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(3396),s=r(7139);const a={class:"position-fixed top-0 d-flex flex-column justify-content-center align-items-center gap-3 w-100 vh-100 fs-5 fw-bold bg-white opacity-75"},l=(0,n._)("div",{class:"spinner-border text-green"},null,-1);function o(e,t,r,o,i,u){return(0,n.wg)(),(0,n.iD)("div",a,[l,(0,n._)("p",null,(0,s.zw)(r.msg),1)])}var i={props:{msg:{type:String,required:!1}}},u=r(89);const d=(0,u.Z)(i,[["render",o]]);var c=d},596:function(e,t,r){r.r(t),r.d(t,{default:function(){return D}});var n=r(3396),s=r(7139),a=r(9242);const l=e=>((0,n.dD)("data-v-7897ced2"),e=e(),(0,n.Cn)(),e),o={class:"container d-flex align-items-center justify-content-center vh-100",id:"page-container"},i={class:"custom-container"},u={class:"custom-text mb-4 fs-3 fw-bolder"},d={class:"fs-6 text-red text-start"},c={class:"fs-6 text-red text-start"},p={key:0,class:"d-flex flex-column gap-3 align-items-start"},m=l((()=>(0,n._)("label",{for:"username"},"Nombre",-1))),g={class:"error-message",for:"username"},f={class:"d-flex flex-column gap-3 align-items-start"},w=l((()=>(0,n._)("label",{for:"email"},"Email",-1))),b={class:"error-message",for:"email"},h={class:"d-flex flex-column gap-2 align-items-start"},y=l((()=>(0,n._)("label",{for:"password"},"Contraseña",-1))),x={class:"error-message",for:"password"},k={class:"d-flex flex-column gap-3 mt-3"};function v(e,t,r,l,v,_){const S=(0,n.up)("CustomButton"),q=(0,n.up)("Spinner");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",o,[(0,n._)("div",i,[(0,n._)("h1",u,(0,s.zw)("signin"===e.$route.name?"Ingresar":"Registro"),1),(0,n._)("h3",d,(0,s.zw)(e.$store.state.errors.authorizationError),1),(0,n._)("h3",c,(0,s.zw)(e.$store.state.errors.authenticationError),1),(0,n._)("form",{class:"d-flex flex-column gap-2 w-100",onSubmit:t[3]||(t[3]=(0,a.iM)(((...e)=>_.handleSubmit&&_.handleSubmit(...e)),["prevent"]))},["/signup"===e.$route.path?((0,n.wg)(),(0,n.iD)("div",p,[m,(0,n.wy)((0,n._)("input",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>v.username=e),name:"username",type:"text",placeholder:"Tu nombre"},null,512),[[a.nr,v.username]]),(0,n._)("label",g,(0,s.zw)(e.$store.state.errors.username),1)])):(0,n.kq)("",!0),(0,n._)("div",f,[w,(0,n.wy)((0,n._)("input",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>v.email=e),name:"email",type:"text",placeholder:"Correo electrónico"},null,512),[[a.nr,v.email]]),(0,n._)("label",b,(0,s.zw)(e.$store.state.errors.email),1)]),(0,n._)("div",h,[y,(0,n.wy)((0,n._)("input",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>v.password=e),name:"password",type:"password",placeholder:"Password"},null,512),[[a.nr,v.password]]),(0,n._)("label",x,(0,s.zw)(e.$store.state.errors.password),1)]),(0,n._)("div",k,[(0,n.Wm)(S,{label:"signin"===e.$route.name?"Ingresar":"Registrarse",onFormSubmit:_.handleSubmit},null,8,["label","onFormSubmit"]),"signin"===e.$route.name?((0,n.wg)(),(0,n.j4)(S,{key:0,label:"Registrarse",customStyle:"bg-green text-dark-teal",link:"",url:{name:"signup"}})):(0,n.kq)("",!0),"signup"===e.$route.name?((0,n.wg)(),(0,n.j4)(S,{key:1,label:"Ya tengo una cuenta",customStyle:"bg-green text-dark-teal",link:"",url:{name:"signin"}})):(0,n.kq)("",!0),"signin"===e.$route.name?((0,n.wg)(),(0,n.j4)(S,{key:2,label:"Ingresar como invitado",customStyle:"bg-yellow text-dark-teal",event:"guest",onGuest:_.handleGuestRequest},null,8,["onGuest"])):(0,n.kq)("",!0)])],32)])]),v.isLoading?((0,n.wg)(),(0,n.j4)(q,{key:0,msg:"Generando usuario de invitado..."})):(0,n.kq)("",!0)],64)}r(7658);var _=r(65);r(725);function S(e,t,r,a,l,o){const i=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[r.link?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,class:(0,s.C_)(`flex-grow-1 py-2 border-0 fs-6 fw-bold rounded-pill ${r.customStyle}`),type:"button",onClick:t[0]||(t[0]=t=>e.$emit(r.event))},(0,s.zw)(r.label),3)),r.link?((0,n.wg)(),(0,n.j4)(i,{key:1,to:r.url,class:(0,s.C_)(`flex-grow-1 py-2 border-0 fs-6 fw-bold rounded-pill text-decoration-none ${r.customStyle}`)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(r.label),1)])),_:1},8,["to","class"])):(0,n.kq)("",!0)],64)}var q={props:{label:{type:String,required:!0},event:{type:String,required:!1,default:"formSubmit"},customStyle:{type:String,required:!1,default:"bg-blue text-light-purple"},link:{type:Boolean,required:!1,default:!1},url:{type:Object,required:!1}}},$=r(89);const z=(0,$.Z)(q,[["render",S]]);var C=z,L=(r(8898),r(7052)),U={data(){return{username:"",email:"",password:"",isLoading:!1}},methods:{async handleSubmit(){try{"/signup"===this.$route.path&&await this.signupUser({username:this.username,email:this.email,password:this.password}),"/signin"===this.$route.path&&await this.signinUser({email:this.email,password:this.password}),this.$router.push({path:"/clients"})}catch(e){console.error(e)}},async handleGuestRequest(){try{this.isLoading=!0,await this.requestGuest(),this.isLoading=!1,this.$router.push({path:"/clients"})}catch(e){throw this.isLoading=!1,new Error(`there was an error while trying to create a guest user, ${e}`)}},...(0,_.nv)(["signinUser","signupUser","signoutUser","requestGuest"])},components:{CustomButton:C,Spinner:L.Z}};const j=(0,$.Z)(U,[["render",v],["__scopeId","data-v-7897ced2"]]);var D=j}}]);
//# sourceMappingURL=596.33a3a03b.js.map