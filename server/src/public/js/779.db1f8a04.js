"use strict";(self["webpackChunkmy_finances"]=self["webpackChunkmy_finances"]||[]).push([[779],{145:function(t,e,n){function s(t){const{tableRef:e}=t,n=e.children["0"],s=e.parentElement,i=Number(window.getComputedStyle(s).paddingBottom.slice(0,-2)),r=window.innerHeight-e.offsetTop-n.clientHeight-i;return r}n.d(e,{b:function(){return s}})},5121:function(t,e,n){n.d(e,{Z:function(){return d}});var s=n(3396),i=n(7139);function r(t,e,n,r,a,l){const o=(0,s.up)("Icon"),c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(c,{class:"position-fixed bottom-0 end-0 m-3 py-2 px-3 rounded-pill d-flex gap-2 align-items-center fs-6 fw-bold bg-blue text-purple text-decoration-none",to:t.url},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(t.label)+" ",1),(0,s.Wm)(o,{name:"plus"})])),_:1},8,["to"])}var a=n(3784),l=(0,s.aZ)({props:{label:{type:String,required:!0},url:{type:Object,required:!0}},components:{Icon:a.Z}}),o=n(89);const c=(0,o.Z)(l,[["render",r]]);var d=c},4568:function(t,e,n){n.d(e,{Z:function(){return u}});var s=n(3396);const i={class:"position-fixed top-0 d-flex justify-content-center align-items-center w-100 vh-100 bg-white opacity-75"},r=(0,s._)("div",{class:"spinner-border text-green"},null,-1),a=[r];function l(t,e,n,r,l,o){return(0,s.wg)(),(0,s.iD)("div",i,a)}var o={},c=n(89);const d=(0,c.Z)(o,[["render",l]]);var u=d},1578:function(t,e,n){n.d(e,{Z:function(){return f}});var s=n(3396),i=n(7139);const r={class:"d-flex flex-column align-items-start flex-grow-1"},a={class:"d-flex gap-1"},l={class:"fs-6"},o={class:"fs-2 fw-bolder"};function c(t,e,n,c,d,u){const p=(0,s.up)("Icon");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",a,[(0,s.Wm)(p,{name:n.icon},null,8,["name"]),(0,s._)("h2",l,(0,i.zw)(n.label),1)]),(0,s._)("span",o,"S/ "+(0,i.zw)(n.value),1)])}var d=n(3784),u={props:{icon:{required:!0,type:String},label:{required:!0,type:String},value:{required:!0,type:String}},components:{Icon:d.Z}},p=n(89);const b=(0,p.Z)(u,[["render",c]]);var f=b},9779:function(t,e,n){n.r(e),n.d(e,{default:function(){return y}});var s=n(3396),i=n(7139);const r={class:"container bg-green px-4 py-3"},a={class:"d-flex"},l={class:"container p-4"},o={class:"table w-100 m-0",ref:"tableRef"},c=(0,s._)("thead",null,[(0,s._)("tr",{height:"50",class:"border-bottom border-2 border-dark-teal align-middle w-100 d-table"},[(0,s._)("th",{class:"fs-6 p-0 text-dark-teal text-start"},"Nombre"),(0,s._)("th",{class:"fs-6 p-0 text-dark-teal text-end"},"Deuda individual")])],-1),d={height:"50",class:"align-middle border-bottom w-100 d-table"},u={class:"fs-6 text-start"},p={class:"fs-6 text-end"};function b(t,e,n,b,f,g){const m=(0,s.up)("StatItem"),h=(0,s.up)("router-link"),w=(0,s.up)("PopupButton"),v=(0,s.up)("Spinner");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("section",r,[(0,s._)("div",a,[(0,s.Wm)(m,{icon:"total-debt",label:"Deuda total",value:t.receivables},null,8,["value"]),(0,s.Wm)(m,{icon:"debtor",label:"Deudores",value:t.debtors},null,8,["value"])])]),(0,s._)("section",l,[(0,s._)("table",o,[c,(0,s._)("tbody",{style:(0,i.j5)({height:t.tbodyHeight+"px"}),class:"d-block overflow-scroll pb-5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.clientList,((t,e)=>((0,s.wg)(),(0,s.j4)(h,{key:"client"+e,to:{name:"client",params:{clientid:t._id.toString()}},class:"text-dark-teal text-decoration-none"},{default:(0,s.w5)((()=>[(0,s._)("tr",d,[(0,s._)("td",u,(0,i.zw)(t.clientName),1),(0,s._)("td",p,"S/ "+(0,i.zw)(t.currentDebt),1)])])),_:2},1032,["to"])))),128))],4)],512)]),(0,s.Wm)(w,{label:"AÃ±adir cliente",url:{name:"newclient"}}),t.isLoading?((0,s.wg)(),(0,s.j4)(v,{key:0})):(0,s.kq)("",!0)],64)}var f=n(5121),g=n(1578),m=n(145),h=n(8898),w=n(4568),v=(0,s.aZ)({data(){return{receivables:0,debtors:0,clientList:[],tbodyHeight:0,isLoading:!1}},methods:{async getClients(){try{this.isLoading=!0;const t=await h.Z.get(`/clients/${this.$store.state._id}`),e=await h.Z.get(`/users/${this.$store.state._id}`);this.clientList=t.data.clientList,this.receivables=e.data.userAssets.receivables,this.debtors=e.data.userAssets.debtors,this.isLoading=!1}catch(t){console.error(t)}}},components:{StatItem:g.Z,PopupButton:f.Z,Spinner:w.Z},async beforeMount(){await this.getClients()},mounted(){const t=(0,m.b)(this.$refs);this.tbodyHeight=t}}),x=n(89);const _=(0,x.Z)(v,[["render",b]]);var y=_}}]);
//# sourceMappingURL=779.db1f8a04.js.map