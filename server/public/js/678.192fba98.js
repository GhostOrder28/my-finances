"use strict";(self["webpackChunkmy_finances"]=self["webpackChunkmy_finances"]||[]).push([[678],{145:function(t,e,n){function o(t){const{tableRef:e,tbodyRef:n}=t;console.log("tbody ref",n),console.log("window inner height",window.innerHeight),console.log("table offset top",e.offsetTop),console.log("table body offset top",n.offsetTop);const o=window.innerHeight-e.offsetTop-n.offsetTop-41;return o}n.d(e,{b:function(){return o}})},5169:function(t,e,n){n.d(e,{Z:function(){return u}});var o=n(3396),a=n(7139);function r(t,e,n,r,i,l){const s=(0,o.up)("Icon"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(c,{class:"f-rs",to:t.url},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(t.label),1),(0,o.Wm)(s,{name:"plus"})])),_:1},8,["to"])}var i=n(6089),l=(0,o.aZ)({props:{label:{type:Object,required:!0},url:{type:Object,required:!0}},components:{Icon:i.Z}}),s=n(89);const c=(0,s.Z)(l,[["render",r],["__scopeId","data-v-09c925ad"]]);var u=c},4319:function(t,e,n){n.d(e,{Z:function(){return f}});var o=n(3396),a=n(7139);const r={class:"container"},i={class:"label-container"};function l(t,e,n,l,s,c){const u=(0,o.up)("Icon");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",i,[(0,o.Wm)(u,{name:n.icon},null,8,["name"]),(0,o._)("h2",null,(0,a.zw)(n.label),1)]),(0,o._)("span",null,"S/ "+(0,a.zw)(n.value),1)])}var s=n(6089),c={props:{icon:{required:!0,type:String},label:{required:!0,type:String},value:{required:!0,type:String}},components:{Icon:s.Z}},u=n(89);const d=(0,u.Z)(c,[["render",l],["__scopeId","data-v-917321dc"]]);var f=d},8678:function(t,e,n){n.r(e),n.d(e,{default:function(){return y}});var o=n(3396),a=n(7139);const r=t=>((0,o.dD)("data-v-74a85932"),t=t(),(0,o.Cn)(),t),i={id:"top-panel"},l={id:"stats-container"},s={id:"page-content"},c={ref:"tableRef"},u=r((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{class:"f-rs"},"Nombre"),(0,o._)("th",{class:"f-rs"},"Deuda individual")])],-1))),d={class:"f-rs"},f={class:"f-rs"};function p(t,e,n,r,p,b){const _=(0,o.up)("StatItem"),g=(0,o.up)("router-link"),h=(0,o.up)("PopupButton");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("section",i,[(0,o._)("div",l,[(0,o.Wm)(_,{icon:"total-debt",label:"Deuda total",value:"S/ 320"}),(0,o.Wm)(_,{icon:"debtor",label:"Deudores",value:"4"})])]),(0,o._)("section",s,[(0,o._)("table",c,[u,(0,o._)("tbody",{ref:"tbodyRef",style:(0,a.j5)({height:t.tbodyHeight+"px"})},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.clientList,((t,e)=>((0,o.wg)(),(0,o.j4)(g,{key:"client"+e,to:{name:"client",params:{clientid:t._id.toString()}}},{default:(0,o.w5)((()=>[(0,o._)("tr",null,[(0,o._)("td",d,(0,a.zw)(t.clientName),1),(0,o._)("td",f,(0,a.zw)(`S/ ${t.currentDebt}`),1)])])),_:2},1032,["to"])))),128))],4)],512)]),(0,o.Wm)(h,{label:"AÃ±adir cliente",url:{name:"newclient"}})],64)}var b=n(5169),_=n(4319),g=n(145),h=n(8898),w=(0,o.aZ)({data(){return{clientList:[],tbodyHeight:0}},methods:{async getClients(){try{const t=await h.Z.get(`/clients/${this.$store.state._id}`);console.log("server response: ",t.data.clientList),this.clientList=t.data.clientList}catch(t){console.error(t)}}},components:{StatItem:_.Z,PopupButton:b.Z},async beforeMount(){await this.getClients()},mounted(){const t=(0,g.b)(this.$refs);this.tbodyHeight=t}}),m=n(89);const v=(0,m.Z)(w,[["render",p],["__scopeId","data-v-74a85932"]]);var y=v}}]);
//# sourceMappingURL=678.192fba98.js.map