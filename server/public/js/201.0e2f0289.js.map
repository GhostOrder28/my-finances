{"version":3,"file":"js/201.0e2f0289.js","mappings":"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","sources":["webpack://my-finances/./src/pages/new-sale-page.vue","webpack://my-finances/./src/pages/new-sale-page.vue?3174"],"sourcesContent":["<template>\n<section id=\"page-content\">\n  <h1 id=\"header\">\n    <span>\n      <Icon name=\"new-sale\" />\n      <span id=\"description\">Nueva venta a</span>\n    </span>\n    <span class=\"fh\">Alma Delfina</span>\n  </h1>\n\n  <form \n    @submit.prevent=\"handleSubmit\" \n    id=\"myform\"\n  >\n    <div class=\"input-container\">\n      <label for=\"name\" class=\"f-rs\">Fecha *</label>\n      <input type=\"date\" v-model=\"formState.date\" name=\"date\">\n    </div>\n\n    <div class=\"input-container\">\n      <label for=\"initialPayment\" class=\"f-rs\">Pago inicial</label>\n      <input type=\"number\" v-model=\"formState.initialPayment\" name=\"initialPayment\">\n    </div>\n\n    <div id=\"labels\">\n      <span class=\"f-rs\">Producto / Cantidad</span>\n      <span class=\"f-rs\">Precio unitario</span>\n    </div>\n\n    <div \n      id=\"items\" \n      ref=\"itemsRef\"\n      :style=\"{ height: itemsContainerHeight + 'px' }\"\n    >\n      <div v-for=\"(item, idx) in formState.items\" class=\"item\" :key=\"'item' + idx\">\n        <div>\n          <input\n            v-model=\"formState.items[idx].name\" \n            @input=\"handlePress($event, idx)\"\n            name=\"name\" \n            type=\"text\" \n            class=\"name\"\n          >\n          <input\n            v-model=\"formState.items[idx].quantity\" \n            name=\"quantity\" \n            type=\"number\"\n            class=\"quantity\"\n            @focus=\"$event.target.select()\"\n            @contextmenu.prevent\n          >\n        </div>\n        <div>\n          <input v-model=\"formState.items[idx].pricePerUnit\" name=\"pricePerUnit\" type=\"number\" class=\"price\">\n          <button @click=\"handleRemove(idx)\" type=\"button\" class=\"remove-btn\">\n            <Icon name=\"cross\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  </form>\n\n  <div id=\"actions\" ref=\"actionsRef\">\n    <button type=\"submit\" form=\"myform\" class=\"action-button confirm f-rs\">Confirmar venta</button> \n    <button type=\"button\" class=\"action-button danger f-rs\">Cancelar</button> \n  </div>\n</section>\n</template>\n\n<script>\nimport Icon from '@/components/icon'\nimport { format } from 'date-fns'\nconst itemInitialState = { \n  name: '', \n  quantity: 1, \n  pricePerUnit: undefined \n};\nexport default {\n  data () {\n    return {\n      itemsContainerHeight: 0,\n      formState: {\n        date: format(new Date(), 'yyyy-MM-dd'),\n        initialPayment: 0,\n        payments: [],\n        items: [ { ...itemInitialState }, { ...itemInitialState } ],\n      }\n    }\n  },\n  components: {\n    Icon\n  },\n  methods: {\n    handleSubmit () {\n      console.log(JSON.stringify(this.formState, null, 2));\n    },\n    handleRemove (idxToRemove) {\n      const remainingItems = this.formState.items.filter((_, idx) => idxToRemove !== idx);\n      this.formState.items = remainingItems;\n    },\n    handlePress (e, idx) {\n      if (e.target.value.length !== 0 && idx === this.formState.items.length - 1) {\n        this.formState.items = [ ...this.formState.items, { ...itemInitialState } ]\n      }\n    }\n  },\n  watch: {\n    initialPayment (newValue, oldValue) {\n      if (newValue > 0) {\n        this.formState.payments = [{\n          date: this.formState.date,\n          amount: newValue,\n        }]\n      }\n      console.log(newValue);\n    }\n  },\n  mounted () {\n    // document.addEventListener()\n    const { itemsRef, actionsRef } = this.$refs;\n    console.log('window height', window.innerHeight);\n    console.log('itemsRef offset top', itemsRef.offsetTop);\n    this.itemsContainerHeight = window.innerHeight - itemsRef.offsetTop - actionsRef.clientHeight - 50;\n    console.log(this.formState.date);\n  },\n  updated () {\n    console.log(this.formState.date);\n    // document.addEventListener()\n    // const { itemsRef, actionsRef } = this.$refs;\n    // console.log('window height', window.innerHeight);\n    // console.log('itemsRef offset top', itemsRef.offsetTop);\n    // this.itemsContainerHeight = window.innerHeight - itemsRef.offsetTop - actionsRef.clientHeight - 50;\n  },\n}\n</script>\n\n<style scoped>\n#header {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 1rem;\n}\n#description {\n  margin-left: .5rem;\n}\n#labels {\n  display: flex;\n}\n#labels > span:nth-child(1) {\n  flex: .6;\n  text-align: left;\n}\n#labels > span:nth-child(2) {\n  flex: .4;\n  text-align: left;\n}\n#items {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  overflow: scroll;\n}\n.item {\n  display: flex;\n  gap: 2rem;\n}\n.item div:nth-child(1) {\n  flex: .6;\n  display: flex;\n  gap: 2rem;\n}\n.item div:nth-child(2) {\n  flex: .4;\n  display: flex;\n  gap: 2rem;\n}\n.name {\n  flex: .9\n}\n.quantity {\n  flex: .1\n}\n.price {\n  flex: .7\n}\n.remove-btn {\n  flex: .3\n}\ninput[type=number] {\n  appearance: textfield;\n}\n.remove-btn {\n  display: flex;\n  align-items: center;\n  padding: 0;\n  background: none;\n  border: none;\n}\n.item:last-child .remove-btn {\n  visibility: hidden;\n}\n</style>\n","import { render } from \"./new-sale-page.vue?vue&type=template&id=f473ca32&scoped=true\"\nimport script from \"./new-sale-page.vue?vue&type=script&lang=js\"\nexport * from \"./new-sale-page.vue?vue&type=script&lang=js\"\n\nimport \"./new-sale-page.vue?vue&type=style&index=0&id=f473ca32&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ghost-order/proyectos_personales/dev/my-finances/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f473ca32\"]])\n\nexport default __exports__"],"names":["id","_createElementVNode","class","for","ref","type","form","_hoisted_15","_hoisted_16","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_Icon","name","_hoisted_3","_hoisted_4","onSubmit","$options","_hoisted_5","_hoisted_6","$data","date","_hoisted_7","_hoisted_8","initialPayment","_hoisted_9","style","height","_Fragment","items","item","idx","key","onInput","$event","quantity","onFocus","target","select","onContextmenu","pricePerUnit","onClick","_hoisted_14","itemInitialState","undefined","data","itemsContainerHeight","formState","format","Date","payments","components","Icon","methods","handleSubmit","console","log","JSON","stringify","this","handleRemove","idxToRemove","remainingItems","filter","_","handlePress","e","value","length","watch","newValue","oldValue","amount","mounted","itemsRef","actionsRef","$refs","window","innerHeight","offsetTop","clientHeight","updated","__exports__","render"],"sourceRoot":""}