"use strict";(self["webpackChunkmy_finances"]=self["webpackChunkmy_finances"]||[]).push([[201],{3201:function(t,e,n){n.r(e),n.d(e,{default:function(){return q}});var a=n(3396),i=n(9242),o=n(7139);const s=t=>((0,a.dD)("data-v-f473ca32"),t=t(),(0,a.Cn)(),t),m={id:"page-content"},l={id:"header"},r=s((()=>(0,a._)("span",{id:"description"},"Nueva venta a",-1))),d=s((()=>(0,a._)("span",{class:"fh"},"Alma Delfina",-1))),c={class:"input-container"},u=s((()=>(0,a._)("label",{for:"name",class:"f-rs"},"Fecha *",-1))),f={class:"input-container"},p=s((()=>(0,a._)("label",{for:"initialPayment",class:"f-rs"},"Pago inicial",-1))),h=s((()=>(0,a._)("div",{id:"labels"},[(0,a._)("span",{class:"f-rs"},"Producto / Cantidad"),(0,a._)("span",{class:"f-rs"},"Precio unitario")],-1))),y=["onUpdate:modelValue","onInput"],_=["onUpdate:modelValue"],S=["onUpdate:modelValue"],g=["onClick"],v={id:"actions",ref:"actionsRef"},b=s((()=>(0,a._)("button",{type:"submit",form:"myform",class:"action-button confirm f-rs"},"Confirmar venta",-1))),w=s((()=>(0,a._)("button",{type:"button",class:"action-button danger f-rs"},"Cancelar",-1))),P=[b,w];function C(t,e,n,s,b,w){const C=(0,a.up)("Icon");return(0,a.wg)(),(0,a.iD)("section",m,[(0,a._)("h1",l,[(0,a._)("span",null,[(0,a.Wm)(C,{name:"new-sale"}),r]),d]),(0,a._)("form",{onSubmit:e[4]||(e[4]=(0,i.iM)(((...t)=>w.handleSubmit&&w.handleSubmit(...t)),["prevent"])),id:"myform"},[(0,a._)("div",c,[u,(0,a.wy)((0,a._)("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=t=>b.formState.date=t),name:"date"},null,512),[[i.nr,b.formState.date]])]),(0,a._)("div",f,[p,(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=t=>b.formState.initialPayment=t),name:"initialPayment"},null,512),[[i.nr,b.formState.initialPayment]])]),h,(0,a._)("div",{id:"items",ref:"itemsRef",style:(0,o.j5)({height:b.itemsContainerHeight+"px"})},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(b.formState.items,((t,n)=>((0,a.wg)(),(0,a.iD)("div",{class:"item",key:"item"+n},[(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t=>b.formState.items[n].name=t,onInput:t=>w.handlePress(t,n),name:"name",type:"text",class:"name"},null,40,y),[[i.nr,b.formState.items[n].name]]),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t=>b.formState.items[n].quantity=t,name:"quantity",type:"number",class:"quantity",onFocus:e[2]||(e[2]=t=>t.target.select()),onContextmenu:e[3]||(e[3]=(0,i.iM)((()=>{}),["prevent"]))},null,40,_),[[i.nr,b.formState.items[n].quantity]])]),(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t=>b.formState.items[n].pricePerUnit=t,name:"pricePerUnit",type:"number",class:"price"},null,8,S),[[i.nr,b.formState.items[n].pricePerUnit]]),(0,a._)("button",{onClick:t=>w.handleRemove(n),type:"button",class:"remove-btn"},[(0,a.Wm)(C,{name:"cross"})],8,g)])])))),128))],4)],32),(0,a._)("div",v,P,512)])}var U=n(6089),V=n(737);const k={name:"",quantity:1,pricePerUnit:void 0};var H={data(){return{itemsContainerHeight:0,formState:{date:(0,V.Z)(new Date,"yyyy-MM-dd"),initialPayment:0,payments:[],items:[{...k},{...k}]}}},components:{Icon:U.Z},methods:{handleSubmit(){console.log(JSON.stringify(this.formState,null,2))},handleRemove(t){const e=this.formState.items.filter(((e,n)=>t!==n));this.formState.items=e},handlePress(t,e){0!==t.target.value.length&&e===this.formState.items.length-1&&(this.formState.items=[...this.formState.items,{...k}])}},watch:{initialPayment(t,e){t>0&&(this.formState.payments=[{date:this.formState.date,amount:t}]),console.log(t)}},mounted(){const{itemsRef:t,actionsRef:e}=this.$refs;console.log("window height",window.innerHeight),console.log("itemsRef offset top",t.offsetTop),this.itemsContainerHeight=window.innerHeight-t.offsetTop-e.clientHeight-50,console.log(this.formState.date)},updated(){console.log(this.formState.date)}},R=n(89);const D=(0,R.Z)(H,[["render",C],["__scopeId","data-v-f473ca32"]]);var q=D}}]);
//# sourceMappingURL=201.29b2b798.js.map