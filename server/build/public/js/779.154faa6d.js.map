{"version":3,"file":"js/779.154faa6d.js","mappings":"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","sources":["webpack://my-finances/./src/utils/utility-functions.ts","webpack://my-finances/./src/components/popup-button.vue?df57","webpack://my-finances/./src/components/popup-button.vue?d70d","webpack://my-finances/./src/components/popup-button.vue","webpack://my-finances/./src/components/spinner.vue","webpack://my-finances/./src/components/spinner.vue?c8d4","webpack://my-finances/./src/components/stat-item.vue","webpack://my-finances/./src/components/stat-item.vue?7f4b","webpack://my-finances/./src/pages/client-list-page.vue?9c76","webpack://my-finances/./src/pages/client-list-page.vue?1585","webpack://my-finances/./src/pages/client-list-page.vue"],"sourcesContent":["function getReferenceHeight (ref: { tableRef: HTMLTableElement }) {\n  const { tableRef } = ref;\n  const tHeadNode = tableRef.children['0'];\n  const tParent = tableRef.parentElement;\n  const tParentPaddingBottom = Number(window.getComputedStyle(tParent as HTMLElement).paddingBottom.slice(0, -2));\n  // console.log('table ref', tableRef);\n  // console.log('tbody ref', tbodyRef);\n  // console.log('window inner height', window.innerHeight);\n  // console.log('table offset top', tableRef.offsetTop);\n  // console.log('tHead height', tHeadNode.clientHeight);\n  // console.log('tParent padding bottom', tParentPaddingBottom);\n  const referenceHeight = window.innerHeight - tableRef.offsetTop - tHeadNode.clientHeight - tParentPaddingBottom;\n  // this last part is just for testing purposes in my desktop environment, for some reason on firefox when tbody display is set to block then offsettop alwaqys returns 0\n  return referenceHeight;\n}\n\nexport {\n  getReferenceHeight,\n}\n","import { toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Icon = _resolveComponent(\"Icon\")!\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createBlock(_component_router_link, {\n    class: \"position-fixed bottom-0 end-0 m-3 py-2 px-3 rounded-pill d-flex gap-2 align-items-center fs-6 fw-bold bg-blue text-purple text-decoration-none\",\n    to: _ctx.url\n  }, {\n    default: _withCtx(() => [\n      _createTextVNode(_toDisplayString(_ctx.label) + \" \", 1),\n      _createVNode(_component_Icon, { name: \"plus\" })\n    ]),\n    _: 1\n  }, 8, [\"to\"]))\n}","\nimport { defineComponent } from 'vue'\nimport Icon from './icon.vue'\n\nexport default defineComponent({\n  props: {\n    label: {\n      type: String,\n      required: true,\n    },\n    url: {\n      type: Object,\n      required: true,\n    }\n  },\n  components: {\n    Icon\n  },\n})\n","import { render } from \"./popup-button.vue?vue&type=template&id=66517de4&ts=true\"\nimport script from \"./popup-button.vue?vue&type=script&lang=ts\"\nexport * from \"./popup-button.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ghost/projects/dev/personal/my-finances/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"\n    position-fixed \n    top-0\n    d-flex flex-column justify-content-center align-items-center gap-3\n    w-100 vh-100 \n    fs-5 fw-bold\n    bg-white \n    opacity-75\n  \">\n    <div class=\"spinner-border text-green\"></div>\n    <p>{{ msg }}</p>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    msg: {\n      type: String,\n      required: false,\n    }\n  }\n}\n</script>\n","import { render } from \"./spinner.vue?vue&type=template&id=b21804ca\"\nimport script from \"./spinner.vue?vue&type=script&lang=js\"\nexport * from \"./spinner.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ghost/projects/dev/personal/my-finances/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n<div class=\"d-flex flex-column align-items-start flex-grow-1\">\n  <div class=\"d-flex gap-1\">\n    <Icon :name=\"icon\" />\n    <h2 class=\"fs-6\">{{ label }}</h2>\n  </div>\n  <span class=\"fs-2 fw-bolder\">S/ {{ value }}</span>\n</div>\n</template>\n\n<script>\nimport Icon from '@/components/icon'\nexport default {\n  props: {\n    icon: {\n      required: true,\n      type: String,\n    },\n    label: {\n      required: true,\n      type: String,\n    },\n    value: {\n      required: true,\n      type: String,\n    }\n  },\n  components: {\n    Icon\n  }\n}\n</script>\n","import { render } from \"./stat-item.vue?vue&type=template&id=c865d936\"\nimport script from \"./stat-item.vue?vue&type=script&lang=js\"\nexport * from \"./stat-item.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ghost/projects/dev/personal/my-finances/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withCtx as _withCtx, createBlock as _createBlock, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"container bg-green px-4 py-3\" }\nconst _hoisted_2 = { class: \"d-flex\" }\nconst _hoisted_3 = { class: \"container p-4\" }\nconst _hoisted_4 = {\n  class: \"table w-100 m-0\",\n  ref: \"tableRef\"\n}\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"thead\", null, [\n  /*#__PURE__*/_createElementVNode(\"tr\", {\n    height: \"50\",\n    class: \"border-bottom border-2 border-dark-teal align-middle w-100 d-table\"\n  }, [\n    /*#__PURE__*/_createElementVNode(\"th\", { class: \"fs-6 p-0 text-dark-teal text-start\" }, \"Nombre\"),\n    /*#__PURE__*/_createElementVNode(\"th\", { class: \"fs-6 p-0 text-dark-teal text-end\" }, \"Deuda individual\")\n  ])\n], -1)\nconst _hoisted_6 = {\n  height: \"50\",\n  class: \"align-middle border-bottom w-100 d-table\"\n}\nconst _hoisted_7 = { class: \"fs-6 text-start\" }\nconst _hoisted_8 = { class: \"fs-6 text-end\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_StatItem = _resolveComponent(\"StatItem\")!\n  const _component_router_link = _resolveComponent(\"router-link\")!\n  const _component_PopupButton = _resolveComponent(\"PopupButton\")!\n  const _component_Spinner = _resolveComponent(\"Spinner\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"section\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(_component_StatItem, {\n          icon: \"total-debt\",\n          label: \"Deuda total\",\n          value: _ctx.receivables\n        }, null, 8, [\"value\"]),\n        _createVNode(_component_StatItem, {\n          icon: \"debtor\",\n          label: \"Deudores\",\n          value: _ctx.debtors\n        }, null, 8, [\"value\"])\n      ])\n    ]),\n    _createElementVNode(\"section\", _hoisted_3, [\n      _createElementVNode(\"table\", _hoisted_4, [\n        _hoisted_5,\n        _createElementVNode(\"tbody\", {\n          style: _normalizeStyle({ height: _ctx.tbodyHeight + 'px' }),\n          class: \"d-block overflow-scroll pb-5\"\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.clientList, (client, idx) => {\n            return (_openBlock(), _createBlock(_component_router_link, {\n              key: 'client' + idx,\n              to: { name: 'client', params: { clientid: client._id.toString() } },\n              class: \"text-dark-teal text-decoration-none\"\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"tr\", _hoisted_6, [\n                  _createElementVNode(\"td\", _hoisted_7, _toDisplayString(client.clientName), 1),\n                  _createElementVNode(\"td\", _hoisted_8, \"S/ \" + _toDisplayString(client.currentDebt), 1)\n                ])\n              ]),\n              _: 2\n            }, 1032, [\"to\"]))\n          }), 128))\n        ], 4)\n      ], 512)\n    ]),\n    _createVNode(_component_PopupButton, {\n      label: \"Añadir cliente\",\n      url: { name: 'newclient' }\n    }),\n    (_ctx.isLoading)\n      ? (_openBlock(), _createBlock(_component_Spinner, { key: 0 }))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}","\nimport PopupButton from '@/components/popup-button.vue' \nimport StatItem from '@/components/stat-item.vue'\nimport { getReferenceHeight } from '@/utils/utility-functions'\nimport http from '@/utils/axios-instance'\nimport { ClientListItem } from '#backend/client.types'\nimport { defineComponent } from 'vue'\nimport { State, Methods, Refs } from '@/types/pages/client-list-page.types'\nimport { Empty } from '@/types/global.types'\nimport { UserAssets } from '#backend/user.types'\nimport Spinner from '@/components/spinner.vue'\n\n// mocks\nexport default defineComponent<Empty, Empty, State, Empty, Methods>({\n  data () {\n    return {\n      receivables: 0,\n      debtors: 0,\n      clientList: [],\n      tbodyHeight: 0,\n      isLoading: false,\n    }\n  },\n  methods: {\n    async getClients () {\n      try {\n        this.isLoading = true\n        const clientListRes = await http.get<{ clientList: ClientListItem[] }>(`/clients/${this.$store.state._id}`);\n        const userAssetsRes = await http.get<{ userAssets: UserAssets }>(`/users/${this.$store.state._id}`);\n\n        this.clientList = clientListRes.data.clientList\n        this.receivables = userAssetsRes.data.userAssets.receivables\n        this.debtors = userAssetsRes.data.userAssets.debtors\n        this.isLoading = false\n      } catch (err) {\n        console.error(err);\n      }\n    }\n  },\n  components: {\n    StatItem,\n    PopupButton,\n    Spinner,\n  },\n  async beforeMount () {\n    await this.getClients()\n  },\n  mounted () {\n    const tbodyHeight = getReferenceHeight(this.$refs as Refs);\n    this.tbodyHeight = tbodyHeight;\n  }\n})\n","import { render } from \"./client-list-page.vue?vue&type=template&id=0b88e322&ts=true\"\nimport script from \"./client-list-page.vue?vue&type=script&lang=ts\"\nexport * from \"./client-list-page.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ghost/projects/dev/personal/my-finances/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["getReferenceHeight","ref","tableRef","tHeadNode","children","tParent","parentElement","tParentPaddingBottom","Number","window","getComputedStyle","paddingBottom","slice","referenceHeight","innerHeight","offsetTop","clientHeight","render","_ctx","_cache","$props","$setup","$data","$options","_component_Icon","_resolveComponent","_component_router_link","_openBlock","_createBlock","class","to","url","default","_withCtx","_createTextVNode","_toDisplayString","label","_createVNode","name","_","defineComponent","props","type","String","required","Object","components","Icon","__exports__","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","msg","_hoisted_3","_hoisted_4","icon","value","_hoisted_5","height","_hoisted_6","_hoisted_7","_hoisted_8","_component_StatItem","_component_PopupButton","_component_Spinner","_Fragment","receivables","debtors","style","_normalizeStyle","tbodyHeight","_renderList","clientList","client","idx","key","params","clientid","_id","toString","clientName","currentDebt","isLoading","_createCommentVNode","data","methods","async","this","clientListRes","http","$store","state","userAssetsRes","userAssets","err","console","error","StatItem","PopupButton","Spinner","getClients","mounted","$refs"],"sourceRoot":""}