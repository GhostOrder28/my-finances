"use strict";(self["webpackChunkmy_finances"]=self["webpackChunkmy_finances"]||[]).push([[994],{145:function(e,t,n){function s(e){const{tableRef:t}=e,n=t.children["0"],s=t.parentElement,l=Number(window.getComputedStyle(s).paddingBottom.slice(0,-2)),r=window.innerHeight-t.offsetTop-n.clientHeight-l;return r}n.d(t,{b:function(){return s}})},5121:function(e,t,n){n.d(t,{Z:function(){return d}});var s=n(3396),l=n(7139);function r(e,t,n,r,a,o){const i=(0,s.up)("Icon"),c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(c,{class:"position-fixed bottom-0 end-0 m-3 py-2 px-3 rounded-pill d-flex gap-2 align-items-center fs-6 fw-bold bg-blue text-purple text-decoration-none",to:e.url},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.label)+" ",1),(0,s.Wm)(i,{name:"plus"})])),_:1},8,["to"])}var a=n(3784),o=(0,s.aZ)({props:{label:{type:String,required:!0},url:{type:Object,required:!0}},components:{Icon:a.Z}}),i=n(89);const c=(0,i.Z)(o,[["render",r]]);var d=c},1578:function(e,t,n){n.d(t,{Z:function(){return f}});var s=n(3396),l=n(7139);const r={class:"d-flex flex-column align-items-start flex-grow-1"},a={class:"d-flex gap-1"},o={class:"fs-6"},i={class:"fs-2 fw-bolder"};function c(e,t,n,c,d,u){const b=(0,s.up)("Icon");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",a,[(0,s.Wm)(b,{name:n.icon},null,8,["name"]),(0,s._)("h2",o,(0,l.zw)(n.label),1)]),(0,s._)("span",i,"S/ "+(0,l.zw)(n.value),1)])}var d=n(3784),u={props:{icon:{required:!0,type:String},label:{required:!0,type:String},value:{required:!0,type:String}},components:{Icon:d.Z}},b=n(89);const p=(0,b.Z)(u,[["render",c]]);var f=p},6994:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var s=n(3396),l=n(7139);const r={class:"container bg-green p-4"},a={class:"d-flex"},o={class:"container p-4"},i={class:"table w-100 m-0",ref:"tableRef"},c=(0,s._)("thead",null,[(0,s._)("tr",{height:"50",class:"border-bottom border-2 border-dark-teal align-middle w-100 d-table"},[(0,s._)("th",{class:"fs-6 p-0 text-dark-teal text-start"},"Nombre"),(0,s._)("th",{class:"fs-6 p-0 text-dark-teal text-end"},"Deuda individual")])],-1),d={height:"50",class:"align-middle border-bottom w-100 d-table"},u={class:"fs-6 text-start"},b={class:"fs-6 text-end"};function p(e,t,n,p,f,m){const g=(0,s.up)("StatItem"),h=(0,s.up)("router-link"),w=(0,s.up)("PopupButton");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("section",r,[(0,s._)("div",a,[(0,s.Wm)(g,{icon:"total-debt",label:"Deuda total",value:e.receivables},null,8,["value"]),(0,s.Wm)(g,{icon:"debtor",label:"Deudores",value:e.debtors},null,8,["value"])])]),(0,s._)("section",o,[(0,s._)("table",i,[c,(0,s._)("tbody",{style:(0,l.j5)({height:e.tbodyHeight+"px"}),class:"d-block overflow-scroll pb-5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.clientList,((e,t)=>((0,s.wg)(),(0,s.j4)(h,{key:"client"+t,to:{name:"client",params:{clientid:e._id.toString()}},class:"text-dark-teal text-decoration-none"},{default:(0,s.w5)((()=>[(0,s._)("tr",d,[(0,s._)("td",u,(0,l.zw)(e.clientName),1),(0,s._)("td",b,"S/ "+(0,l.zw)(e.currentDebt),1)])])),_:2},1032,["to"])))),128))],4)],512)]),(0,s.Wm)(w,{label:"AÃ±adir cliente",url:{name:"newclient"}})],64)}var f=n(5121),m=n(1578),g=n(145),h=n(8898),w=(0,s.aZ)({data(){return{receivables:0,debtors:0,clientList:[],tbodyHeight:0}},methods:{async getClients(){try{const e=await h.Z.get(`/clients/${this.$store.state._id}`),t=await h.Z.get(`/users/${this.$store.state._id}`);console.log("server response: ",e.data.clientList),this.clientList=e.data.clientList,this.receivables=t.data.userAssets.receivables,this.debtors=t.data.userAssets.debtors}catch(e){console.error(e)}}},components:{StatItem:m.Z,PopupButton:f.Z},async beforeMount(){await this.getClients()},mounted(){const e=(0,g.b)(this.$refs);this.tbodyHeight=e}}),v=n(89);const _=(0,v.Z)(w,[["render",p]]);var x=_}}]);
//# sourceMappingURL=994.48103051.js.map